\ctitle{多摄像头系统的时间同步}
% 根据自己的情况选，不用这样复杂
\makeatletter
\ifthu@bachelor\relax\else
  \ifthu@doctor
    \cdegree{工学博士}
  \else
    \ifthu@master
      \cdegree{工学硕士}
    \fi
  \fi
\fi
\makeatother


\cdepartment[计算机]{计算机科学与技术系}
\cmajor{计算机科学与技术}
\cauthor{丁旭}
\csupervisor{陶品副研究员}
\etitle{The Synchronization of Multicamera System}
\edegree{Master of Science}
\emajor{Computer Science and Technology}
\eauthor{Ding Xu}
\esupervisor{Associate Researcher Tao Pin}
% 这个日期也会自动生成，你要改么？
% \edate{December, 2005}

% 定义中英文摘要和关键字
\begin{cabstract}

随着摄像头技术的日益发展，为了获得更高性能、实现更多功能，利用多个摄像头构建多摄像头系统 成为了一个重要的发展方向，关于多摄像头系统的研究逐渐深入，应用范围也逐渐广泛起来。为了满足系统应用的各项需求，需要精确控制多摄像头系统内的各个摄像头在特定时间进行拍摄，实现拍摄时间的同步。

为了实现多摄像头系统的拍摄时间同步，本文提出了一种利用LED点阵进行拍摄时间检测，根据时间差调整拍摄时间的同步方法。该方法主要分为摄像头拍摄时间检测和多摄像头系统时间同步控制两部分。

在进行摄像头拍摄时间检测时，主要利用FPGA和LED点阵组成检测系统，由FPGA按照一定的编码规律控制点阵中各个LED灯不断变化，组成不同的LED点阵状态，形成状态序列。根据编码方法，可以判断各个点阵状态在序列中所处的位置。当利用摄像头对LED点阵进行拍摄时，根据拍摄到的LED点阵的状态，可以确定该状态在状态序列中所处的位置，根据每个状态的持续时长，即可检测摄像头的拍摄时间。对于不同的编码方法，能够得到不同的检测精度，对摄像头也有不同的性能、参数要求。本文共设计了五种编码方法，并通过实验对其检测效果进行了比较。利用该方法对摄像头的拍摄时间进行检测，检测系统无需与摄像头进行数据通信，对摄像头没有特殊的硬件接口要求，能够适用于大多数的摄像头，适用范围较广。同时，该方法能够在摄像头正常工作的过程当中进行检测，无需暂停摄像或对摄像头进行调整。

在获得摄像头的拍摄时间之后，就可以对多摄像头系统进行同步调整。首先将各个摄像头拍摄到的LED点阵图像由服务器统一进行图像识别，检测摄像头的拍摄时间，计算各个摄像头之间的时间间隔，选定基准摄像头。通过暂停拍摄或者调整帧率的方法改变摄像头的拍摄时间，从而控制系统内各个摄像头能够在同一时刻进行拍摄，并通过多次迭代验证不断提高同步精度，实现系统精确同步。该同步方法基于拍摄时间检测方法实现，能够获得较高的同步精度。同时，由服务器进行图像处理和同步控制，对于摄像头的计算性能要求较低，通过参数调整能够实现不同的同步精度，方法灵活性较高。

本文还搭建了一个具有可扩展性的多摄像头系统，利用树莓派电脑控制摄像头进行拍摄，图像处理服务器进行系统控制，对上述检测和同步方法进行了验证。
\end{cabstract}

\ckeywords{多摄像头系统, 时间同步, 拍摄时间检测, LED点阵}

\begin{eabstract}

With the development of camera technology, multi-camera system has become an important research direction. There are more and more researches on the multi-camera system. In order to meet the needs of the system application, the system must achieve the shooting time synchronization, to accurately control cameras to shoot at a certain moment.

In order to realize the time synchronization of multi-camera system, this paper proposes a high precision method to detect the synchronization accuracy by using a FPGA based LED matrix. The method is divided into two parts: camera shooting time detection and system synchronization control.

This paper use a detection system composed by FPGA and LED matrix to detect the camera shooting time. The LED lights in the matrix continue to change, forming a state sequence. Depending on the encoding method, it is possible to determine the position of each matrix state in the sequence. When shooting the LED matrix using the camera, the position of the state in the state sequence can be determined, and the shooting time of the camera also can be detected. For different encoding methods, different detection accuracy can be obtained, the camera also has different performance and parameter requirements. In this paper, five encoding methods are designed, and the results are compared according to experiments. With this method, the detection system needs no data communication with the camera, so the camera does not have to equip special hardware interface. This method can be applied to most of the camera. At the same time, the method can be applied during the normal working process of the camera, without pausing or adjusting the camera.

After the camera's shooting time is detected, the multi-camera system can be adjusted synchronously. First of all, the server identifies images of the LED matrix captured by cameras. So the server can get cameras' shooting time and calculate the time intervals between them. According to the reference camera, the server then can change the cameras' shooting time by pausing them or adjusting the frame rate. So that the cameras in the system can shoot at the same time. And this method can continuously improve the synchronization accuracy by iterative verification. This synchronization method can achieve a high synchronization accuracy. At the same time, the cameras' computing performance requirements are lower and the method flexibility is higher.

This paper also builds a scalable multi-camera system, using the Raspberry computers to to control the camera and the image processing server to control the system. With this system, the above detection and synchronization method has been verified.

\end{eabstract}

\ekeywords{multi-camera system, synchronization, shooting time detection, LED matrix}






































